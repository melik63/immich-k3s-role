# roles/immich2/defaults/main.yml
---
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

# –û–±—Ä–∞–∑—ã
immich_server_image: "ghcr.io/immich-app/immich-server:v1.137.3"
immich_machine_learning_image: "ghcr.io/immich-app/immich-machine-learning:v1.137.3"
immich_namespace: "immich"
nginx_image: "docker.io/nginx:alpine"
immich_server_port: 3000
immich_api_port: 3001
nginx_port: 8080
immich_ml_port: 3003

# –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º
immich_storage_path: "/data"
immich_upload_path: "/data/upload"

# üî• –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å–ª—É—à–∞–µ—Ç immich-server
immich_server_internal_port: 3333
immich_nginx_port: 8080

# PostgreSQL –∏ Redis
immich_postgres_host: "postgres"
immich_postgres_port: 5432
immich_postgres_user: "immich"
immich_postgres_password: "immich"
immich_postgres_db: "immich"

immich_redis_host: "redis"
immich_redis_port: 6379

# –†–µ—Å—É—Ä—Å—ã
immich_server_resources:
  requests:
    memory: "512Mi"
    cpu: "250m"
  limits:
    memory: "1Gi"
    cpu: "500m"

# Nginx —à–∞–±–ª–æ–Ω
immich_nginx_config_template: "nginx.conf.j2"

immich_enable_ingress: true
